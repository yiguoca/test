# TODO: This file is not referenced by kustomization and intentionally left here for reference only. If we want to setup snapshots in a cluster we have a few components that need to be created.
# Documentation in the system-architecture-docs references the cases we need the different types of classes. These comments and files will remain to support the documentation.
# A volume group class whose volumes will be cleaned up when no longer required.

## Beware: Use Delete deletionPolicy otherwise volumeGroups don't get cleaned up on Nimble
## Beware: Dynamic id is generated on nimble per VolumeGroupClass so fewer needed is better. 
---
apiVersion: storage.hpe.com/v1
kind: VolumeGroupClass
metadata:
  name: hpe-nimble-volume-group-default
provisioner: csi.hpe.com
deletionPolicy: Delete
parameters:
  #https://scod.hpedev.io/container_storage_provider/hpe_alletra_6000/index.html#volumegroupclass_parameters
  #protectionTemplate: Daily-Snapshot|Retain-30Daily|Retain-48Hourly-30Daily-52Weekly|Retain-90Daily
  description: "HPE CSI Driver for Kubernetes Volume Group"
  csi.hpe.com/volume-group-provisioner-secret-name: nimble
  csi.hpe.com/volume-group-provisioner-secret-namespace: hpe-storage
# A volume group whose snapsthos will remain on nimble after being detached.
---
apiVersion: storage.hpe.com/v1
kind: VolumeGroupClass
metadata:
  name: hpe-nimble-volume-group-retain
provisioner: csi.hpe.com
deletionPolicy: Retain
parameters:
  #https://scod.hpedev.io/container_storage_provider/hpe_alletra_6000/index.html#volumegroupclass_parameters
  #protectionTemplate: Daily-Snapshot|Retain-30Daily|Retain-48Hourly-30Daily-52Weekly|Retain-90Daily
  description: "HPE CSI Driver for Kubernetes Volume Group (Retain)"
  csi.hpe.com/volume-group-provisioner-secret-name: nimble
  csi.hpe.com/volume-group-provisioner-secret-namespace: hpe-storage
